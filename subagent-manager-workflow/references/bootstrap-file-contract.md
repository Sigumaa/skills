# ブートストラップ対象ファイル責務

## 判定フロー
1. Plan確定後、実装着手前に対象ファイルの存在を確認する。
2. 欠落ファイルは新規作成する。
3. 既存ファイルは「必須責務」の欠落または矛盾がある場合のみ更新する。
4. 既存運用の破壊的変更が発生する場合は `decision-gates.md` でユーザー相談する。
5. 補完は必要最小限の差分に限定し、上書き再生成を避ける。

## `.codex/PROJECT_PLAN.md`
- プロジェクト計画の正本。
- 目的、スコープ、受け入れ基準、フェーズを定義する。
- 仕様変更時は `PLAN_PROGRESS` と同時更新する。
- 生成条件: ファイル欠落時。
- 更新条件: 受け入れ基準、フェーズ、スコープ定義の欠落または矛盾時。

## `.codex/PLAN_PROGRESS.md`
- 現在の実施対象、実施ログ、次アクションの正本。
- 実装系コミットでは同時更新を必須とする。
- 次アクションは最大3件を維持する。
- 生成条件: ファイル欠落時。
- 更新条件: `現在の実施対象` `実施ログ` `次アクション` の必須項目欠落時。

## `.codex/STARTUP_CHECKLIST.md`
- 作業開始前、実装前、実装後、コミット前の確認項目を固定する。
- 運用ルール変更時に同期更新する。
- 生成条件: ファイル欠落時。
- 更新条件: コミット前チェックに `pre-commit` と計画整合が未記載のとき。

## `.github/workflows/*.yml`
- 最低1本のCI導線を定義する。
- 推奨は `pre-commit` と `tests` の自動実行。
- push直後は `gh-workflow` でrun監視する。
- 生成条件: `.github/workflows` 配下にworkflowが1本もないとき。
- 更新条件: 品質ゲート導線（`pre-commit` または `tests`）が不在、または明らかに無効なとき。

## 運用ルール
- ブートストラップはPlan確定後、実装着手前に実施する。
- 既存ファイルがある場合は上書きではなく責務整合を優先する。
- 不足があれば必要最小限の差分で補完する。
